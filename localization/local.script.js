const languages = {
  en: {
    "auth-title": "Authentication",
    "auth-forgotten-password": "Forgotten Password",
    "auth-enter-email":
      "Please enter your registered email to recover your password:",
    "auth-placeholder-email": "Enter your email",
    "auth-recover-password": "Recover Password",
    "auth-no-account":
      "Don't have an account? It takes a minute to create one...",
    "auth-signup": "Sign up",
    "auth-has-account": "Already have an account?",
    "auth-login": "Login",
    "auth-login-title": "Login",
    "auth-placeholder-username": "Enter your username",
    "auth-placeholder-password": "Enter your password",
    "auth-signup-title": "Sign Up",
    "auth-teacher": "I'm a teacher",
    "auth-student": "I'm a student",
    "auth-placeholder-fullname": "Enter your full name",
    "auth-placeholder-facultynumber": "Enter your faculty number",
    "auth-placeholder-reenter-password": "Re-enter your password",
    "home-title": "Home",
    "nav-brand": "Panda",
    "nav-welcome": "Welcome!",
    "nav-logout": "Logout",
    "card-paper": "Papers",
    "card-project-topics": "Project Topics",
    "card-timetable": "Timetable",
    "card-my-account": "My Account",
    "table-topic-number": "№ of topic",
    "table-topic-name": "Name of topic",
    "table-sample-resources": "Sample resources",
    "table-your-resources": "Your resources (links)",
    "table-presentation-content": "Presentation content",
    "table-sample-content": "Content of samples",
    "table-presentation-resume": "Resume of presentation",
    "table-keywords": "Key words",
    "table-non-formal": "(Non)formal comments ",
    "download-xlsx": "Download XLSX",
    "propose-topic": "Propose Topic",
    "propose-topic-text":
      "Here you can propose a topic taht seems interesting.",
    "propose-topic-modal":
      "Topic, for example: AI integration in applications,...",
    "propose-topic-textarea":
      "Here you can write your arguments on why do you think this topic is interesting as well as some resources you found usefull",
    "send-text": "Send",
    "save-text": "Save",
    "cancel-text": "Cancel",
    "table-topic-number": "№ of topic",
    "table-topic-name": "Name of topic",
    "table-description": "Description",
    "table-sample-distribution": "Sample Distribution",
    "table-participant-1": "Participant 1",
    "table-participant-2": "Participant 2",
    "table-participant-3": "Participant 3",
    "table-integration": "Integration with Project",
    "table-requirements": "Requirements",
    "table-comments": "Your Comments",
    "table-participants-fn": "FN of students",
    "table-participants-names": "Name of students",
    "register-team": "Register your team",
    "faculty-number-placeholder-team": "Student FN",
    "student-name-placeholder-team": "Student name",
    "error-students-exceeded": "Students in a team must be max 3",
    "error-students-not-enough": "The must be at least one student",
    "error-no-details-team-creation":
      "Please select a topic and add teammates.",
    "error-no-details-team-members": "All teammate fields are required!",
    "edit-team": "Edit your team",
    "participant1-placeholder":
      "Here you can write what participant 1 is responsible for in your team",
    "participant2-placeholder":
      "Here you can write what participant 2 is responsible for in your team",
    "participant3-placeholder":
      "Here you can write what participant 3 is responsible for in your team",
    "comments-placeholder":
      "Here you can add comments about the topic that you consider important",
    "teammates-section": "Team",
    "edit-fields-section": "Distribution",
    "add-teammate": "Add a teammate",
    hour: "Time",
    group: "Group",
    "add-me-to-timetable": "Add to schedule",
    "adding-student-to-timetable": "Adding student to schedule",
    oops: "Oops...",
    hey: "Hey!",
    "info-please-selecct-day":
      "To see the schedule details of a day, select one from the list on the left.",
    "info-no-data-available-for-day":
      "Be the first to add yourself to the schedule!",
    "info-no-data-available-for-day-admin":
      "Nobody has added a timeslot on this day.",
    "change-password": "Change password",
    "user-details": "User Details",
    faq: "FAQ (Frequently asked questions)",
    "old-password": "Old Password",
    "new-password": "New Password",
    "confirm-password": "Confirm Password",
    "save-changes": "Save Changes",
    "password-not-match": "Passwords do not match",
    "add-topic": "Add Topic",
    "add-topic-name": "Name of topic",
    "sample-resources-textarea": "Here you can add sample resources",
    "search-project": "Search Project",
    search: "Search",
    "delete-selected": "Delete Selected",
    "delete-timetable": "Delete timetable",
    date: "Date",
    "start-time": "Start time",
    "end-time": "End time",
    delay: "Delay",
    "add-time-slot": "Add day slot",
    question: "Question",
    answer: "Answer",
    "add-faq": "Add FAQ",
  },
  bg: {
    "auth-title": "Автентикация",
    "auth-forgotten-password": "Забравена парола",
    "auth-enter-email":
      "Моля, въведете вашия регистриран имейл, за да възстановите паролата си:",
    "auth-placeholder-email": "Имейл",
    "auth-recover-password": "Възстановете паролата",
    "auth-no-account": "Нямате акаунт?",
    "auth-signup": "Регистрация",
    "auth-has-account": "Вече имате акаунт?",
    "auth-login": "Вход",
    "auth-login-title": "Вход",
    "auth-placeholder-username": "Потребителско име",
    "auth-placeholder-password": "Въведете парола",
    "auth-signup-title": "Регистрация",
    "auth-teacher": "Аз съм преподавател",
    "auth-student": "Аз съм студент",
    "auth-placeholder-fullname": "Име и фамилия",
    "auth-placeholder-facultynumber": "Факултетен номер",
    "auth-placeholder-reenter-password": "Повторете вашата парола",
    "home-title": "Начало",
    "nav-brand": "Панда",
    "nav-welcome": "Добре дошъл!",
    "nav-logout": "Изход",
    "card-paper": "Реферати",
    "card-project-topics": "Теми за проекти",
    "card-timetable": "График",
    "card-my-account": "Моят профил",
    "table-topic-number": "№ на тема",
    "table-topic-name": "Име на тема",
    "table-sample-resources": "Примерни ресурси",
    "table-your-resources": "Вашите ресурси (връзки)",
    "table-presentation-content": "Съдържание на презентация",
    "table-sample-content": "Съдържание на примерите",
    "table-presentation-resume": "Резюме на презентацията",
    "table-keywords": "Ключови думи",
    "table-non-formal": "(не)формални коментари",
    "download-xlsx": "Изтегляне на XLSX",
    "propose-topic": "Предложи тема",
    "propose-topic-text":
      "Тук можеш да предложиш тема, която ти се струва интерсна. Трябва дапопълниш полетата отдолу.",
    "propose-topic-modal":
      "Тема, например: Интеграцията на Изкуствения интелект в приложенията и др...",
    "propose-topic-textarea":
      "Тук можеш да напишеш обосновката си защо мислиш, че тази тема е интересна, както и източници, които са полезни",
    "send-text": "Изпрати",
    "save-text": "Запази",
    "cancel-text": "Отмени",
    "table-topic-number": "№ на тема",
    "table-topic-name": "Име на тема",
    "table-description": "Описание",
    "table-sample-distribution": "Примерно разпределение",
    "table-participant-1": "Участник 1",
    "table-participant-2": "Участник 2",
    "table-participant-3": "Участник 3",
    "table-integration": "Интеграция с проект",
    "table-requirements": "Изисквания",
    "table-comments": "Ваши коментари",
    "table-participants-fn": "ФН на студенти",
    "table-participants-names": "Имена на студенти",
    "register-team": "Регистрирай своя отбор",
    "faculty-number-placeholder-team": "ФН на студент",
    "student-name-placeholder-team": "Име на студент",
    "error-students-exceeded": "Екипът може да бъде от максимум 3-ма",
    "error-students-not-enough": "Екипът трябва да има поне един студент",
    "error-no-details-team-creation": "Трябва да изберете тема и участници",
    "error-no-details-team-members":
      "Всички полета за участниците са задължителни",
    "edit-team": "Редактирай своя отбор",
    "participant1-placeholder":
      "Тук може да напишете за какво отговаря учасник 1 във вашия отбор",
    "participant2-placeholder":
      "Тук може да напишете за какво отговаря учасник 2 във вашия отбор",
    "participant3-placeholder":
      "Тук може да напишете за какво отговаря учасник 3 във вашия отбор",
    "comments-placeholder":
      "Тук може да добавите коментари върху темата, които смятате за важни",
    "teammates-section": "Отбор",
    "edit-fields-section": "Разпределение",
    "add-teammate": "Добави съотборник",
    hour: "Час",
    group: "Група",
    "add-me-to-timetable": "Записване в графика",
    "adding-student-to-timetable": "Записване на студент в графика",
    oops: "Oпаа...",
    hey: "Ехоо!",
    "info-please-selecct-day":
      "За да видиш графика на някой ден, избери един от списъка в ляво.",
    "info-no-data-available-for-day":
      "Все още никой не се записал за този ден, бъди първият!",
    "info-no-data-available-for-day-admin":
      "Все още никой не се записал за този ден.",
    "change-password": "Смени парола",
    "user-details": "Моите данни",
    "old-password": "Стара парола",
    "new-password": "Нова парола",
    "confirm-password": "Потвърди парола",
    "save-changes": "Запази промените",
    "password-not-match": "Паролите не съвпадат",
    faq: "ЧЗВ (Често задавани въпроси)",
    "add-topic": "Добави тема",
    "add-topic-name": "Името на темата",
    "sample-resources-textarea": "Тук могат да се добавят примерни ресурси",
    "search-project": "Потърси проект",
    search: "Потърси",
    "delete-selected": "Премахни избрани",
    "delete-timetable": "Изтрий този ден",
    date: "Дата",
    "start-time": "Начален час",
    "end-time": "Краен час",
    delay: "Диапазон",
    "add-time-slot": "Добави ден за представяне",
    question: "Въпрос",
    answer: "Отговор",
    "add-faq": "Добави ЧЗВ",
  },
};

let currentLanguage = localStorage.getItem("language") || "en";

const langElement = document.querySelector(".language-toggle");
langElement.innerHTML = `
  <input type="checkbox" id="languageSwitch" />
      <label for="languageSwitch" class="toggle-label">
        <span class="lang-en">EN</span>
        <span class="lang-bg">БГ</span>
      </label>
`;

const languageSwitch = document.getElementById("languageSwitch");

function updateLanguage(lang) {
  currentLanguage = lang;
  const langData = languages[lang] || languages.en;
  document.querySelectorAll("[data-i18n]").forEach((element) => {
    const key = element.getAttribute("data-i18n");
    if (langData[key]) {
      element.textContent = langData[key];
    }
  });

  document.querySelectorAll("[data-i18n-placeholder]").forEach((element) => {
    const key = element.getAttribute("data-i18n-placeholder");
    if (langData[key]) {
      element.placeholder = langData[key];
    }
  });
  localStorage.setItem("language", lang);
}

function applyTranslations() {
  const langData = languages[currentLanguage] || languages.en;
  document.querySelectorAll("[data-i18n]").forEach((element) => {
    const key = element.getAttribute("data-i18n");
    if (langData[key]) {
      element.textContent = langData[key];
    }
  });
}

languageSwitch.addEventListener("change", (event) => {
  const selectedLanguage = event.target.checked ? "bg" : "en";
  updateLanguage(selectedLanguage);
});

languageSwitch.checked = currentLanguage === "bg";
updateLanguage(currentLanguage);

function forceApplyPlaceholders() {
  document.querySelectorAll("[data-i18n-placeholder]").forEach((element) => {
    const placeholderKey = element.getAttribute("data-i18n-placeholder");
    const translation = getTranslation(placeholderKey);
    if (translation) {
      element.setAttribute("placeholder", translation);
    }
  });
}

function getTranslation(key) {
  return languages[currentLanguage][key] || key;
}
