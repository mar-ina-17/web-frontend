<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title data-i18n="card-project-topics"></title>
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="../../components/styles/main.css" />
    <link rel="stylesheet" href="../../assets/styles/global.css" />
    <link rel="stylesheet" href="../styles/projects.style.css" />
  </head>
  <body>
    <nav class="nav"></nav>

    <section class="container container-100">
      <article>
        <div class="flex-container page-actions" id="page-actions">
          <button
            class="download-table-button"
            onclick="downloadTableAsExcel('project_topics')"
            data-i18n="download-xlsx"
          ></button>

          <button
            class="propose-button"
            data-i18n="propose-topic"
            onclick="openModal('propose-topic-modal','propose-topic-modal-overlay')"
          ></button>
        </div>

        <div class="table-container">
          <table class="table" id="project_topics">
            <thead>
              <thead>
                <tr>
                  <th data-i18n="table-topic-number"></th>
                  <th data-i18n="table-topic-name"></th>
                  <th data-i18n="table-description"></th>
                  <th data-i18n="table-participant-1"></th>
                  <th data-i18n="table-participant-2"></th>
                  <th data-i18n="table-participant-3"></th>
                  <th data-i18n="table-integration"></th>
                  <th data-i18n="table-requirements"></th>
                </tr>
              </thead>
            </thead>
            <tbody></tbody>
          </table>
        </div>
        <div
          class="drawer-overlay"
          id="drawerOverlay"
          onclick="closeDrawer()"
        ></div>
        <div class="drawer" id="drawer">
          <div class="drawer-header">
            <span>Drawer header</span>
            <button
              class="close-drawer-button"
              aria-label="Close drawer"
              onclick="closeDrawer()"
            >
              &times;
            </button>
          </div>
          <div class="drawer-content"></div>
        </div>
      </article>
    </section>

    <section>
      <article>
        <div
          class="modal-overlay"
          id="propose-topic-modal-overlay"
          style="display: none"
        ></div>
        <div class="modal" id="propose-topic-modal" style="display: none">
          <div class="modal-header">
            <span data-i18n="propose-topic"></span>
            <button
              class="modal-close-button"
              aria-label="Close modal"
              onclick="closeModal('propose-topic-modal','propose-topic-modal-overlay')"
            >
              &times;
            </button>
          </div>
          <div class="modal-body">
            <div class="block-container">
              <span data-i18n="propose-topic-text"></span>
              <div class="input-container">
                <i class="input-icon fa-solid fa-a"></i>
                <input
                  type="text"
                  id="proposedTopic"
                  data-i18n-placeholder="propose-topic-modal"
                />
                <button
                  class="clear-button"
                  aria-label="Clear input"
                  title="Clear input"
                >
                  &times;
                </button>
              </div>
              <textarea
                class="textarea-component"
                id="proposeTopicText"
                data-i18n-placeholder="propose-topic-textarea"
                rows="7"
                required
              ></textarea>
            </div>
          </div>
          <div class="modal-footer">
            <button class="primary" data-i18n="send-text"></button>
            <button
              class="secondary"
              onclick="closeModal('propose-topic-modal','propose-topic-modal-overlay')"
              data-i18n="cancel-text"
            ></button>
          </div>
        </div>
      </article>
    </section>

    <section>
      <article>
        <div
          class="modal-overlay"
          id="register-team-modal-overlay"
          style="display: none"
        ></div>
        <div class="modal" id="register-team-modal" style="display: none">
          <div class="modal-header">
            <span data-i18n="register-team"></span>
            <button
              class="modal-close-button"
              aria-label="Close modal"
              onclick="closeModal('register-team-modal','register-team-modal-overlay')"
            >
              &times;
            </button>
          </div>
          <div class="modal-body">
            <div class="block-container">
              <span data-i18n="select-topic"></span>
              <div class="input-container">
                <label
                  for="topic-dropdown"
                  data-i18n="select-topic-label"
                ></label>
                <div class="select-container">
                  <select id="topic-dropdown"></select>
                </div>
              </div>
              <div id="teammates-container">
                <div class="flex-container row teammate-row">
                  <div class="input-container row-input">
                    <i class="input-icon fa-solid fa-hashtag"></i>
                    <input
                      type="text"
                      class="facultyNumber"
                      data-i18n-placeholder="faculty-number-placeholder-team"
                    />
                  </div>

                  <div class="input-container row-input">
                    <i class="input-icon fa-regular fa-user"></i>
                    <input
                      type="text"
                      class="studentName"
                      data-i18n-placeholder="student-name-placeholder-team"
                    />
                  </div>
                  <button
                    class="remove-button"
                    onclick="removeTeammateRow(this, 'teammates-container')"
                  >
                    -
                  </button>
                </div>
              </div>
              <button
                id="addTeammateButton"
                class="add-button"
                data-i18n="add-teammate"
                onclick="addTeammateRow('teammates-container')"
              ></button>
            </div>
            <div
              class="error-message"
              id="errorMessage"
              style="display: none"
            ></div>
          </div>
          <div class="modal-footer">
            <button
              class="primary"
              onclick="saveTeamDetails()"
              data-i18n="save-text"
            ></button>
            <button
              class="secondary"
              onclick="closeModal('register-team-modal','register-team-modal-overlay')"
              data-i18n="cancel-text"
            ></button>
          </div>
        </div>
      </article>
    </section>

    <section>
      <article>
        <div
          class="modal-overlay"
          id="edit-team-modal-overlay"
          style="display: none"
        ></div>
        <div class="modal" id="edit-team-modal" style="display: none">
          <div class="modal-header">
            <span data-i18n="edit-team"></span>
            <button
              class="modal-close-button"
              aria-label="Close modal"
              onclick="closeModal('edit-team-modal','edit-team-modal-overlay')"
            >
              &times;
            </button>
          </div>
          <div class="modal-body">
            <div class="toggle-buttons">
              <button
                class="toggle-button active"
                id="toggle-teammates"
                onclick="toggleSection('teammates-section', 'edit-fields-section')"
                data-i18n="teammates-section"
              ></button>
              <button
                class="toggle-button"
                id="toggle-edit-fields"
                onclick="toggleSection('edit-fields-section', 'teammates-section')"
                data-i18n="edit-fields-section"
              ></button>
            </div>

            <div class="block-container section" id="teammates-section">
              <span data-i18n="select-topic"></span>
              <div class="input-container">
                <div class="select-container">
                  <select id="topic-edit-dropdown"></select>
                </div>
              </div>
              <div id="teammates-edit-container"></div>
              <button
                id="addTeammateButton"
                class="add-button"
                data-i18n="add-teammate"
                onclick="addTeammateRow('teammates-edit-container','edit-fields-section')"
              ></button>

              <div class="input-container comments-container">
                <textarea
                  id="comments"
                  class="textarea-component"
                  rows="3"
                  data-i18n-placeholder="comments-placeholder"
                ></textarea>
              </div>
            </div>

            <div id="edit-parent">
              <div
                class="block-container section hidden"
                id="edit-fields-section"
              ></div>
            </div>

            <div
              class="error-message"
              id="errorMessage"
              style="display: none"
            ></div>
          </div>

          <div class="modal-footer">
            <button
              class="primary"
              onclick="saveEditTeamDetails()"
              data-i18n="save-text"
            ></button>
            <button
              class="secondary"
              onclick="closeModal('edit-team-modal','edit-team-modal-overlay')"
              data-i18n="cancel-text"
            ></button>
          </div>
        </div>
      </article>
    </section>

    <div class="language-toggle"></div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
    <script src="../../localization/local.script.js"></script>
    <script src="../../components/javascript/nav.script.js"></script>
    <script src="../../components/javascript/input.script.js"></script>
    <script src="../../components/javascript/modal.script.js"></script>
    <script src="../../components/javascript/drawer.script.js"></script>
    <script src="./javascript/projects.script.js"></script>
  </body>
</html>
